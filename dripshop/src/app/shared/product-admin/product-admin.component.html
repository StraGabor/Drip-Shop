<app-nav></app-nav>

<div class="form-container">
<h1 class="subtitle" *ngIf="!id.value">Add new item!</h1>
<h1 class="subtitle" *ngIf="id.value">Update item!</h1>
<form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">

    <input type="hidden" name="id" #id="ngModel" [(ngModel)]="service.formData.id">

    <mat-form-field>
        <input type="text" matInput name="name" #image="ngModel" [(ngModel)]="service.formData.name" placeholder="Name" class="form-control" required>
    </mat-form-field>

    <mat-form-field>
        <input type="text" matInput name="category" #name="ngModel" [(ngModel)]="service.formData.category" placeholder="Category" class="form-control" required>
    </mat-form-field>

    <mat-form-field>
        <input type="text" matInput name="imageURL" #image="ngModel" [(ngModel)]="service.formData.imageURL" placeholder="Image URL" class="form-control" required>
    </mat-form-field>

    <mat-form-field>
        <input type="number" matInput name="drip" #price="ngModel" [(ngModel)]="service.formData.drip" placeholder="Drip" class="form-control" required>
    </mat-form-field>

    <mat-form-field class="form-group">
        <input type="number" matInput name="price" #price="ngModel" [(ngModel)]="service.formData.price" placeholder="Product's price in HUF" class="form-control" required>
        </mat-form-field>

    <div class="form-group">
        <button class="pulse" *ngIf="!id.value" type="submit" [disabled]="form.invalid">Add item</button>
        <button class="pulse" *ngIf="id.value" type="submit" [disabled]="form.invalid">Update item</button>
    </div>
</form>
</div>
<div class="container">
    <table>
        <thead>
            <th>Name</th>
            <th>Category</th>
            <th>ImageURL</th>
            <th>Drip</th>
            <th>Price</th>
            <th>Modify</th>
            <th>Delete</th>
        </thead>
        <tbody>
            <tr *ngFor="let i of lista">
                <td>{{i.name}}</td>
                <td>{{i.category}}</td>
                <td><img height="100" src="{{i.imageURL}}"></td>
                <td>{{i.drip}}</td>
                <td>{{i.price}}</td>
                <td><a (click)="onEdit(i)" class="pulse" style="color: rgb(12, 201, 225);">
                    Edit
                </a></td>
                <td><a (click)="onDelete(i)" class="pulse" style="color: rgb(174, 23, 9);">
                    Delete
                </a></td>
            </tr>
        </tbody>
    </table>
</div>


